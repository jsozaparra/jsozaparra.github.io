describe("moving markers",function(){var e,r,a,t;beforeEach(function(){t=sinon.useFakeTimers(),(e=document.createElement("div")).style.width="200px",e.style.height="200px",document.body.appendChild(e),(r=L.map(e,{maxZoom:18,trackResize:!1})).fitBounds(new L.LatLngBounds([[1,1],[2,2]]))}),afterEach(function(){a instanceof L.MarkerClusterGroup&&(a.clearLayers(),r.removeLayer(a)),r.remove(),e.remove(),t.restore(),e=r=a=t}),it("moves a marker that was moved while off the map",function(){a=new L.MarkerClusterGroup;var e=new L.Marker([10,10]);r.addLayer(a),a.addLayer(e),r.removeLayer(a),e.setLatLng([1.5,1.5]),r.addLayer(a),expect(a.getLayers().length).to.be(1)}),it("moves multiple markers that were moved while off the map",function(){a=new L.MarkerClusterGroup,r.addLayer(a);for(var e=[],t=0;t<10;t++){var o=new L.Marker([10,10]);a.addLayer(o),e.push(o)}r.removeLayer(a);for(t=0;t<10;t++){(o=e[t]).setLatLng([1.5,1.5])}r.addLayer(a),expect(a.getLayers().length).to.be(10)})});
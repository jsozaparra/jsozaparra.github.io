describe("support for CircleMarker elements",function(){var e,a,r,t;beforeEach(function(){e=sinon.useFakeTimers(),(a=document.createElement("div")).style.width="200px",a.style.height="200px",document.body.appendChild(a),(r=L.map(a,{maxZoom:18,trackResize:!1})).fitBounds(new L.LatLngBounds([[1,1],[2,2]]))}),afterEach(function(){t instanceof L.MarkerClusterGroup&&(t.clearLayers(),r.removeLayer(t)),r.remove(),a.remove(),e.restore(),e=a=r=t=null}),it("appears when added to the group before the group is added to the map",function(){t=new L.MarkerClusterGroup;var a=new L.CircleMarker([1.5,1.5]);t.addLayer(a),r.addLayer(t),expect(a._path.parentNode.parentNode).to.not.be(undefined),expect(a._path.parentNode.parentNode.parentNode).to.be(r.getPane("overlayPane")),e.tick(1e3)}),it("appears when added to the group after the group is added to the map",function(){t=new L.MarkerClusterGroup;var a=new L.CircleMarker([1.5,1.5]);t.addLayer(a),r.addLayer(t),expect(a._path.parentNode.parentNode).to.not.be(undefined),expect(a._path.parentNode.parentNode.parentNode).to.be(r.getPane("overlayPane")),e.tick(1e3)}),it("appears animated when added to the group after the group is added to the map",function(){t=new L.MarkerClusterGroup({animateAddingMarkers:!0});var a=new L.CircleMarker([1.5,1.5]),n=new L.CircleMarker([1.5,1.5]);r.addLayer(t),t.addLayer(a),t.addLayer(n),expect(a._path.parentNode.parentNode.parentNode).to.be(r.getPane("overlayPane")),expect(n._path.parentNode.parentNode.parentNode).to.be(r.getPane("overlayPane")),e.tick(1e3),expect(a._path.parentNode).to.be(null),expect(n._path.parentNode).to.be(null)}),it("creates a cluster when 2 overlapping markers are added before the group is added to the map",function(){t=new L.MarkerClusterGroup;var a=new L.CircleMarker([1.5,1.5]),n=new L.CircleMarker([1.5,1.5]);t.addLayers([a,n]),r.addLayer(t),expect(a._path).to.be(undefined),expect(n._path).to.be(undefined),expect(r._panes.markerPane.childNodes.length).to.be(1),e.tick(1e3)}),it("creates a cluster when 2 overlapping markers are added after the group is added to the map",function(){t=new L.MarkerClusterGroup;var a=new L.CircleMarker([1.5,1.5]),n=new L.CircleMarker([1.5,1.5]);r.addLayer(t),t.addLayer(a),t.addLayer(n),expect(a._path.parentNode).to.be(null),expect(n._path).to.be(undefined),expect(r._panes.markerPane.childNodes.length).to.be(1),e.tick(1e3)}),it("disappears when removed from the group",function(){t=new L.MarkerClusterGroup;var a=new L.CircleMarker([1.5,1.5]);t.addLayer(a),r.addLayer(t),expect(a._path.parentNode).to.not.be(undefined),expect(a._path.parentNode.parentNode.parentNode).to.be(r.getPane("overlayPane")),t.removeLayer(a),expect(a._path.parentNode).to.be(null),e.tick(1e3)})});
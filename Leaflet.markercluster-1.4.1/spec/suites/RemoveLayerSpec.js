describe("removeLayer",function(){var e,r,a,t;beforeEach(function(){e=sinon.useFakeTimers(),(r=document.createElement("div")).style.width="200px",r.style.height="200px",document.body.appendChild(r),(a=L.map(r,{maxZoom:18,trackResize:!1})).fitBounds(new L.LatLngBounds([[1,1],[2,2]]))}),afterEach(function(){t instanceof L.MarkerClusterGroup&&(t.clearLayers(),a.removeLayer(t)),a.remove(),r.remove(),e.restore(),e=r=a=t=null}),it("removes a layer that was added to it",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]);a.addLayer(t),t.addLayer(e),expect(e._icon.parentNode).to.be(a._panes.markerPane),t.removeLayer(e),expect(e._icon).to.be(null)}),it("doesnt remove a layer not added to it",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]);a.addLayer(t),a.addLayer(e),expect(e._icon.parentNode).to.be(a._panes.markerPane),t.removeLayer(e),expect(e._icon.parentNode).to.be(a._panes.markerPane)}),it("removes a layer that was added to it (before being on the map) that is shown in a cluster",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),r=new L.Marker([1.5,1.5]);t.addLayers([e,r]),a.addLayer(t),t.removeLayer(e),expect(e._icon).to.be(undefined),expect(r._icon.parentNode).to.be(a._panes.markerPane)}),it("removes a layer that was added to it (after being on the map) that is shown in a cluster",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),r=new L.Marker([1.5,1.5]);a.addLayer(t),t.addLayer(e),t.addLayer(r),t.removeLayer(e),expect(e._icon).to.be(null),expect(r._icon.parentNode).to.be(a._panes.markerPane)}),it("removes a layer that was added to it (before being on the map) that is individually",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1,1.5]),r=new L.Marker([3,1.5]);a.addLayer(t),t.addLayer(e),t.addLayer(r),expect(e._icon.parentNode).to.be(a._panes.markerPane),expect(r._icon.parentNode).to.be(a._panes.markerPane),t.removeLayer(e),expect(e._icon).to.be(null),expect(r._icon.parentNode).to.be(a._panes.markerPane)}),it("removes a layer (with animation) that was added to it (after being on the map) that is shown in a cluster",function(){t=new L.MarkerClusterGroup({animateAddingMarkers:!0});var r=new L.Marker([1.5,1.5]),n=new L.Marker([1.5,1.5]);a.addLayer(t),t.addLayer(r),t.addLayer(n),e.tick(1e3),expect(r._icon).to.be(null),expect(n._icon).to.be(null),t.removeLayer(r),e.tick(1e3),expect(r._icon).to.be(null),expect(n._icon.parentNode).to.be(a._panes.markerPane)}),it("removes the layers that are in the given LayerGroup",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),r=new L.Marker([1.5,1.5]);a.addLayer(t),t.addLayers([e,r]);var n=L.layerGroup();n.addLayer(r),t.removeLayer(n),expect(e._icon).to.not.be(undefined),expect(r._icon).to.be(undefined)}),it("removes the layers that are in the given LayerGroup when not on the map",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),r=new L.Marker([1.5,1.5]);t.addLayers([e,r]);var a=L.layerGroup();a.addLayer(r),t.removeLayer(a),expect(t.hasLayer(e)).to.be(!0),expect(t.hasLayer(r)).to.be(!1)}),it("passes control to removeLayers when marker is a Layer Group",function(){t=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),r=new L.Marker([1.5,1.5]);t.addLayers([e,r]);var a=L.layerGroup();a.addLayer(r),t.removeLayer(new L.LayerGroup([a])),expect(t.hasLayer(e)).to.be(!0),expect(t.hasLayer(r)).to.be(!1)})});
describe("addLayers adding multiple markers",function(){var e,r,a;beforeEach(function(){(e=document.createElement("div")).style.width="200px",e.style.height="200px",document.body.appendChild(e),(r=L.map(e,{maxZoom:18,trackResize:!1})).fitBounds(new L.LatLngBounds([[1,1],[2,2]]))}),afterEach(function(){a instanceof L.MarkerClusterGroup&&(a.clearLayers(),r.removeLayer(a)),r.remove(),e.remove(),e=r=a=null}),it("creates a cluster when 2 overlapping markers are added before the group is added to the map",function(){a=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),n=new L.Marker([1.5,1.5]);a.addLayers([e,n]),r.addLayer(a),expect(e._icon).to.be(undefined),expect(n._icon).to.be(undefined),expect(r._panes.markerPane.childNodes.length).to.be(1)}),it("creates a cluster when 2 overlapping markers are added after the group is added to the map",function(){a=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),n=new L.Marker([1.5,1.5]);r.addLayer(a),a.addLayers([e,n]),expect(e._icon).to.be(undefined),expect(n._icon).to.be(undefined),expect(r._panes.markerPane.childNodes.length).to.be(1)}),it("creates a cluster and marker when 2 overlapping markers and one non-overlapping are added before the group is added to the map",function(){a=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),n=new L.Marker([1.5,1.5]),t=new L.Marker([3,1.5]);a.addLayers([e,n,t]),r.addLayer(a),expect(e._icon).to.be(undefined),expect(n._icon).to.be(undefined),expect(t._icon.parentNode).to.be(r._panes.markerPane),expect(r._panes.markerPane.childNodes.length).to.be(2)}),it("creates a cluster and marker when 2 overlapping markers and one non-overlapping are added after the group is added to the map",function(){a=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),n=new L.Marker([1.5,1.5]),t=new L.Marker([3,1.5]);r.addLayer(a),a.addLayers([e,n,t]),expect(e._icon).to.be(undefined),expect(n._icon).to.be(undefined),expect(t._icon.parentNode).to.be(r._panes.markerPane),expect(r._panes.markerPane.childNodes.length).to.be(2)}),it("handles nested Layer Groups",function(){a=new L.MarkerClusterGroup;var e=new L.Marker([1.5,1.5]),n=new L.Marker([1.5,1.5]),t=new L.Marker([3,1.5]),d=new L.LayerGroup([e,new L.LayerGroup([n])]);r.addLayer(a),a.addLayers([d,t]),expect(e._icon).to.be(undefined),expect(n._icon).to.be(undefined),expect(t._icon.parentNode).to.be(r._panes.markerPane),expect(r._panes.markerPane.childNodes.length).to.be(2)})});